# Exploit Development Basics

Basic bugs are connected with either Buffer Overflow or Stack Overflow.

**Buffer Overflow** - a memory location receives more data than it expected.

**Stack Overflow** - an overflow that writes beyond the top of the stack.

We need to look for:
1. When buffer needs to overwrite EIP (current instruction pointer)
2. One of the CPU registers needs to contain our buffer

## CPU x86 Registers 


| Register | Explanation  |
|----------|--------------|
| EAX      | Main register used in arithmetic calculations. Also known as accumulator, as it holds results of arithmetic operations and function return values. |
| EBX      | The Base Register. Pointer to data in the DS segment.  Used to store the base address of the program.
| ECX      | The Counter register is often used to hold a value representing the number of times a process is to be repeated. Used for loop and string operations.
| EDX      | A general purpose registers. Also used for I/O operations. Helps extend EAX to 64-bits.
| ESI      | Source Index register. Pointer to data in the segment pointed to by the DS register.  Used as an offset address in string and array operations. It holds the address from where to read data.
| EDI      | Destination Index register. Pointer to data (or destination) in the segment pointed to by the ES register.  Used as an offset address in string and array operations. It holds the implied write address of all string operations.
| EBP      | Base Pointer. Pointer to data on the stack (in the SS segment).  It points to the bottom of the current stack frame. It is used to reference local variables.
| ESP      | Stack Pointer (in the SS segment). It points to the top of the current stack frame. It is used to reference local variables.
| EIP      | Instruction Pointer (holds the address of the next instruction to be executed).


## Steps of Exploitation

1. We need a program to store an overly long string
2. This string overwrites EIP and part of it is stored on a CPU register
3. We find a pointer that points to the register that contains our buffer
4. We put that pointer in the correct place in our buffer so it overwrites EIP
5. When the program reaches our pointer it executes the instruction and jumps to the register that contains our buffer 
6. We place our shellcode in the part of the buffer that is stored in the CPU register

## Sources

[FuzzySecurity](https://www.fuzzysecurity.com/tutorials/expDev/1.html) (Main part of the information was taken from here)

